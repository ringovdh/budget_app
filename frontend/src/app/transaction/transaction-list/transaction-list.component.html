<div class="card my-5">
  <div class="card-body">
    <div class="row">
      <div class="col-sm-4">
        <div class="card">
          <div class="card-header">Filter transacties</div>
          <div class="card-body">
            <div class="row">
              <label for="category" class="col-sm-4 col-form-label">Categorie: </label>
              <div class="col-sm-8">
                <select id="category"[(ngModel)]="cat" (ngModelChange)="changeCategory($event)">
                  <option value="0">-</option>
                  <option *ngFor="let cat of categories" value="{{cat.id}}">{{ cat.label }}</option>
                </select>
              </div>
            </div>
            <div class="row">
              <label for="year" class="col-sm-4 col-form-label">Jaartal: </label>
              <div class="col-sm-8">
                <select id="year"[(ngModel)]="year" (ngModelChange)="changeYear($event)">
                  <option value="0">-</option>
                  <option value="2020">2020</option>
                  <option value="2019">2019</option>
                  <option value="2018">2018</option>
                  <option value="2017">2017</option>
                  <option value="2016">2016</option>
                </select>
              </div>
            </div>
            <div class="row">
              <label for="month" class="col-sm-4 col-form-label">Maand: </label>
              <div class="col-sm-8">
                <select id="month"[(ngModel)]="month" (ngModelChange)="changeMonth($event)">
                  <option value="0">-</option>
                  <option value="01">januari</option>
                  <option value="02">februari</option>
                  <option value="03">maart</option>
                  <option value="04">april</option>
                  <option value="05">mei</option>
                  <option value="06">juni</option>
                  <option value="07">juli</option>
                  <option value="08">augustus</option>
                  <option value="09">september</option>
                  <option value="10">oktober</option>
                  <option value="11">november</option>
                  <option value="12">december</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-8">
        <div class="card">
          <div class="card-header">Feiten</div>
          <div class="card-body">
            <div class="row">
              <div class="col-sm-6">
                <div class="card">
                  <div class="card-header">Totaal</div>
                  <div class="card-body">
                    <p class="card-text">inkomst: +{{ totalPositive | number:'1.2-2':'be-BE'}}€</p>
                    <p class="card-text">uitgave: -{{ totalNegative | number:'1.2-2':'be-BE'}}€</p>
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="card">
                  <div class="card-header">Gemiddeld</div>
                  <div class="card-body">
                    <p class="card-text">inkomst: +{{ avgPositive | number:'1.2-2':'be-BE'}}€</p>
                    <p class="card-text">uitgave: -{{ avgNegative | number:'1.2-2':'be-BE'}}€</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="card my-5">
  <div class="card-header">Grafiek</div>
  <div class="card-body">
    <app-transaction-graph [transactions]="filteredTransactions"></app-transaction-graph>
  </div>
</div>

<div class="card my-5">
  <div class="card-header">Transacties</div>
  <div class="card-body">
    <table class="table table-bordered table-striped">
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Datum</th>
          <th scope="col">Omschrijving</th>
          <th scope="col">Bedrag</th>
          <th scope="col">Categorie</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tx of filteredTransactions ">
          <td>{{ tx.number }}</td>
          <td>{{ tx.date | date:'d/MM/yyyy' }}</td>
          <td>{{ tx.comment }}</td>
          <td>{{ tx.sign }} {{ tx.amount }}€</td>
          <td>{{ tx.category }}</td>
          <td><button class="btn btn-primary stretched-link" (click)="openFormModal(tx)"> Bewerk </button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
